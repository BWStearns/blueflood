<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Blueflood by rackerlabs</title>
    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="javascripts/respond.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!--[if lt IE 8]>
    <link rel="stylesheet" href="stylesheets/ie.css">
    <![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

  </head>
  <body>
      <div id="header">
        <nav>
          <li class="fork"><a href="https://github.com/rackerlabs/blueflood">View On GitHub</a></li>
          <li class="downloads"><a href="https://github.com/rackerlabs/blueflood/zipball/master">ZIP</a></li>
          <li class="downloads"><a href="https://github.com/rackerlabs/blueflood/tarball/master">TAR</a></li>
          <li class="title">DOWNLOADS</li>
        </nav>
      </div><!-- end header -->

    <div class="wrapper">

      <section>
        <div id="title">
          <h1>Blueflood</h1>
          <p></p>
          <hr>
          <span class="credits left">Project maintained by <a href="https://github.com/rackerlabs">rackerlabs</a></span>
          <span class="credits right">Hosted on GitHub Pages &mdash; Theme by <a href="https://twitter.com/michigangraham">mattgraham</a></span>
        </div>

        <h1>
<a name="blueflood" class="anchor" href="#blueflood"><span class="octicon octicon-link"></span></a>Blueflood</h1>

<h1>
<a name="introduction" class="anchor" href="#introduction"><span class="octicon octicon-link"></span></a>Introduction</h1>

<p>Blueflood is a distributed system designed to ingest and process time series data generated by other systems. </p>

<h1>
<a name="benefits" class="anchor" href="#benefits"><span class="octicon octicon-link"></span></a>Benefits</h1>

<ul>
<li>
<strong>Simple</strong>: It is easy to get metrics data in and out of Blueflood. To collect metrics, write your code to collect metrics as often as you need and push the data to Blueflood instance. To retrieve metrics, specify the time window and the number of data point you need and let Blueflood choose the data with the right granularity.</li>
<li>
<strong>Scalable</strong>: Blueflood is designed to handle large data volume for ingestion, and can return data quickly for query</li>
<li>
<strong>Production tested</strong>: Blueflood is currently used internally at Rackspace to support Cloud Monitoring. It is under active development.</li>
</ul><h1>
<a name="features" class="anchor" href="#features"><span class="octicon octicon-link"></span></a>Features</h1>

<p>It has three primary functions: metrics ingestion, rollup consolidation, and data query.</p>

<h2>
<a name="metrics-ingestion" class="anchor" href="#metrics-ingestion"><span class="octicon octicon-link"></span></a>Metrics Ingestion</h2>

<p>After collecting the metric data, post them to Blueflood in the following json format to "/metrics". Blueflood will store them as raw data until specific time to live. </p>

<div class="highlight"><pre><span class="p">[</span>
    <span class="p">{</span>
        <span class="s2">"collectionTime"</span><span class="o">:</span> <span class="mi">1375217024200</span><span class="p">,</span>
        <span class="s2">"ttlInSeconds"</span><span class="o">:</span> <span class="mi">172800</span><span class="p">,</span>
        <span class="s2">"metricValue"</span><span class="o">:</span> <span class="mf">57.969165995652595</span><span class="p">,</span>
        <span class="s2">"accountId"</span><span class="o">:</span> <span class="s2">"acDemo"</span><span class="p">,</span>
        <span class="s2">"unit"</span><span class="o">:</span> <span class="s2">"seconds"</span><span class="p">,</span>
        <span class="s2">"metricName"</span><span class="o">:</span> <span class="s2">"metricDemo"</span>
    <span class="p">}</span>
<span class="p">]</span>
</pre></div>

<h2>
<a name="rollup-consolidation" class="anchor" href="#rollup-consolidation"><span class="octicon octicon-link"></span></a>Rollup Consolidation</h2>

<p>Blueflood nodes that are configured with Rollup mode will read the raw data and calculate the aggregates at different granularity for the data query (see below).</p>

<h2>
<a name="data-query" class="anchor" href="#data-query"><span class="octicon octicon-link"></span></a>Data Query</h2>

<p>The Data Query API is design to prefer low latency over throughput and works best with structured iterations. The goal is to support the iterative metrics analysis that is triggered from alerts, dashboard or long term planning.</p>

<p>The data retrieved through the API (To be documented further) is like the following. Note how these two data points are the aggregation of 30 and 50 time series data, respectively.</p>

<div class="highlight"><pre><span class="p">[</span>
    <span class="p">{</span>
        <span class="s2">"rawSample"</span><span class="o">:</span> <span class="kc">null</span><span class="p">,</span>
        <span class="s2">"min"</span><span class="o">:</span> <span class="mf">57.969165995652595</span><span class="p">,</span>
        <span class="s2">"timestamp"</span><span class="o">:</span> <span class="mi">1375216800000</span><span class="p">,</span>
        <span class="s2">"average"</span><span class="o">:</span> <span class="mf">57.969165995652595</span><span class="p">,</span>
        <span class="s2">"numPoints"</span><span class="o">:</span> <span class="mi">30</span><span class="p">,</span>
        <span class="s2">"max"</span><span class="o">:</span> <span class="mf">57.969165995652595</span><span class="p">,</span>
        <span class="s2">"variance"</span><span class="o">:</span> <span class="mf">0.0</span><span class="p">,</span>
        <span class="s2">"unit"</span><span class="o">:</span> <span class="s2">"seconds"</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="s2">"rawSample"</span><span class="o">:</span> <span class="kc">null</span><span class="p">,</span>
        <span class="s2">"min"</span><span class="o">:</span> <span class="o">-</span><span class="mf">3.4548969891396766</span><span class="p">,</span>
        <span class="s2">"timestamp"</span><span class="o">:</span> <span class="mi">1375222800000</span><span class="p">,</span>
        <span class="s2">"average"</span><span class="o">:</span> <span class="mf">44.396379776671381</span><span class="p">,</span>
        <span class="s2">"numPoints"</span><span class="o">:</span> <span class="mi">50</span><span class="p">,</span>
        <span class="s2">"max"</span><span class="o">:</span> <span class="mf">98.44178907359634</span><span class="p">,</span>
        <span class="s2">"variance"</span><span class="o">:</span> <span class="mf">649.09993657276527</span><span class="p">,</span>
        <span class="s2">"unit"</span><span class="o">:</span> <span class="s2">"seconds"</span>
    <span class="p">}</span>
</pre></div>

<h1>
<a name="external-links" class="anchor" href="#external-links"><span class="octicon octicon-link"></span></a>External Links</h1>

<ul>
<li>
<strong>IRC</strong>: irc.freenode.net #blueflood</li>
<li>
<strong>Documentation</strong>: Details for the project are documented at <a href="https://github.com/rackerlabs/blueflood/wiki">wiki</a> for building, deployment, management and performance tuning</li>
<li>
<strong>Mailing List</strong>: Mailing list is at (link TBD)</li>
<li>
<strong>Issue Tracking</strong>: Log your issues at <a href="https://github.com/rackerlabs/blueflood/issues">project issue page</a> and they will be vetted before converting to the development issue JIRA project (link TBD)</li>
<li>
<strong>Source Code</strong>: Blueflood is hosted on <a href="https://github.com/rackerlabs/blueflood">GitHub rackerlabs</a>
</li>
<li>Blueflood is in production at <a href="https://www.rackspace.com/">Rackspace</a> to support <a href="http://www.rackspace.com/cloud/monitoring/">Cloud Monitoring</a> </li>
</ul>
      </section>

    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-42769648-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>